{% assign per_tag_limit = include.limit | default: 100 %}

<ol class="related-posts">
{% for p in site.related_posts limit:per_tag_limit %}
{% assign count_tags_common = 0 %}
{% for t in p.tags %}
{% if page.tags contains t %}
{% assign count_tags_common = count_tags_common | plus: 1 %}
{% endif %}
{% endfor %}
{% if count_tags_common < 1 %}
{% continue %}
{% endif %}
<li class="post related"><a href="{{ p.url | prepend: site.baseurl }}">{{p.title}}</a></li>    
{% endfor %}
</ol> 
